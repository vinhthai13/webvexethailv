extends layout

block content
  .container-fluid.py-4
    .row.justify-content-center
      .col-md-8
        .card.shadow
          .card-body
            h1.h3.mb-4 Thông tin cá nhân

            if error && error.length > 0
              .alert.alert-danger.alert-dismissible.fade.show(role='alert')
                = error
                button.btn-close(type='button' data-bs-dismiss='alert' aria-label='Close')

            if success && success.length > 0
              .alert.alert-success.alert-dismissible.fade.show(role='alert')
                = success
                button.btn-close(type='button' data-bs-dismiss='alert' aria-label='Close')

            form(method='POST' action='/admin/profile')
              .mb-3
                label.form-label(for='username') Tên đăng nhập
                input.form-control#username(
                  type='text'
                  name='username'
                  value=user.username
                  readonly
                )

              .mb-3
                label.form-label(for='name') Họ tên
                input.form-control#name(
                  type='text'
                  name='name'
                  required
                  value=user.name || ''
                  placeholder='Nhập họ tên'
                )

              .mb-3
                label.form-label(for='email') Email
                input.form-control#email(
                  type='email'
                  name='email'
                  required
                  value=user.email || ''
                  placeholder='Nhập email'
                )

              .mb-3
                label.form-label(for='current_password') Mật khẩu hiện tại
                input.form-control#current_password(
                  type='password'
                  name='current_password'
                  placeholder='Nhập mật khẩu hiện tại để thay đổi'
                )

              .mb-3
                label.form-label(for='new_password') Mật khẩu mới
                input.form-control#new_password(
                  type='password'
                  name='new_password'
                  placeholder='Nhập mật khẩu mới (để trống nếu không đổi)'
                )

              .mb-3
                label.form-label(for='confirm_password') Xác nhận mật khẩu mới
                input.form-control#confirm_password(
                  type='password'
                  name='confirm_password'
                  placeholder='Nhập lại mật khẩu mới'
                )

              .d-flex.gap-2
                button.btn.btn-primary(type='submit')
                  i.fas.fa-save.me-2
                  | Lưu thay đổi
                a.btn.btn-secondary(href='/admin')
                  i.fas.fa-times.me-2
                  | Hủy 